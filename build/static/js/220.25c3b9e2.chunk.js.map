{"version":3,"file":"static/js/220.25c3b9e2.chunk.js","mappings":"8KAKe,SAASA,IAAY,IAADC,EAAAC,EAEjC,MAAMC,EAAiB,QAAdF,EAAU,OAAPG,EAAAA,SAAO,IAAPA,EAAAA,QAAO,GAAPA,EAAAA,EAAAA,aAAW,IAAAH,EAAAA,EAAI,CAAC,GAGtB,MACJI,EAAK,UACLC,EAAS,OACTC,EAAM,cACNC,EAAa,cACbC,EACAC,UAAWC,EAAY,eACvBC,EACAC,OAAQC,EAAS,WACjBC,GACEZ,EAGEO,EAEU,QAFDR,EACD,OAAZS,QAAY,IAAZA,EAAAA,EACAC,SAAc,IAAAV,EAAAA,EACb,CAACc,EAAIC,IAAQC,QAAQC,KAAK,4BAA6BH,EAAIC,GAExDJ,EACK,OAATC,QAAS,IAATA,EAAAA,EACEE,GACAN,EACIA,EAAUM,EAAI,GACdE,QAAQC,KAAK,yBAA0BH,GAGzCI,GAAWC,EAAAA,EAAAA,SAAQ,KAAO,IAADC,EAAAC,EAAAC,EAAAC,EAAAC,EAC7B,MAAMC,EAAyB,QAArBL,EAAQ,OAALjB,QAAK,IAALA,EAAAA,EAASC,SAAS,IAAAgB,EAAAA,EAAI,GAC7BM,EAAU,OAANrB,QAAM,IAANA,EAAAA,EAAU,CAAC,EAEfsB,EAAgBF,EAAKG,OAAO,CAACC,EAAGC,IAAMD,GAAKC,EAAEC,UAAY,GAAI,GAC7DC,EAAgBP,EAAKG,OACzB,CAACC,EAAGC,IAAMD,GAAKC,EAAEG,OAAS,IAAMH,EAAEC,UAAY,GAC9C,GAGF,MAAO,CACL5B,MAAOsB,EACPS,WAA6C,QAAnCb,EAAmB,QAAnBC,EAAe,OAAbhB,QAAa,IAAbA,OAAa,EAAbA,WAAiB,IAAAgB,EAAAA,EAAII,EAAEQ,kBAAU,IAAAb,EAAAA,EAAIM,EACjDQ,SAA2C,QAAnCZ,EAAmB,QAAnBC,EAAe,OAAbjB,QAAa,IAAbA,OAAa,EAAbA,WAAiB,IAAAiB,EAAAA,EAAIE,EAAEU,kBAAU,IAAAb,EAAAA,EAAIS,IAEhD,CAAC7B,EAAOC,EAAWC,EAAQC,EAAeC,KAGtC8B,EAAiBC,IAAsBC,EAAAA,EAAAA,UAAS,KAChDC,EAAeC,IAAoBF,EAAAA,EAAAA,UAAS,OAG7CG,EAAcxB,EAASgB,WAAa,GAAK,EACzCS,EAAWzB,EAASgB,WAAa,GAAK,EACtCU,EAAQC,KAAKC,MAAiC,KAA1B5B,EAASiB,UAAY,IACzCY,GAAc7B,EAASiB,UAAY,GAAKO,EAAcC,EAAWC,EAGvE,OAAK1B,EAASf,MAAM6C,QAYlBC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,aAAYC,SAAA,CAAC,SACpBF,EAAAA,EAAAA,MAAA,SAAAE,SAAA,CAAO,IAAEjC,EAASgB,WAAW,iBAGpCe,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EAExBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,aAAYC,SAAC,sBAC9BC,EAAAA,EAAAA,KAAA,SACEF,UAAU,aACVG,MAAOhB,EACPiB,SAAWC,GAAMjB,EAAmBiB,EAAEC,OAAOH,OAC7CI,YAAY,sCAIfvC,EAASf,MAAMuD,IAAKC,IACnBV,EAAAA,EAAAA,MAAA,OAAmBC,UAAU,YAAWC,SAAA,EACtCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBC,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,OACEQ,IAAKD,EAAKE,MACVC,IAAKH,EAAKI,KACVb,UAAU,aACVc,QAAUT,IACRA,EAAEU,cAAcL,IACd,0DACAM,mBAAmBP,EAAKI,MAAQ,YAGtCd,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,kBAAiBC,SAAEQ,EAAKI,QACvCd,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAAC,SAAEQ,EAAK1B,MAAM,YAC/CgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBC,EAAAA,EAAAA,KAACe,EAAAA,EAAK,CAACC,KAAM,MACbhB,EAAAA,EAAAA,KAAA,QAAAD,SAAOQ,EAAKU,WACXV,EAAKW,aAAcrB,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAM,sBAAKQ,EAAKW,wBAK1CrB,EAAAA,EAAAA,MAAA,OAAKsB,MAAO,CAAEC,QAAS,OAAQC,WAAY,SAAUC,IAAK,QAASvB,SAAA,EACjEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,MAAKC,SAAA,EAClBC,EAAAA,EAAAA,KAAA,UACEF,UAAU,WACVyB,QAASA,IACPnE,EAAUmD,EAAK7C,GAAI+B,KAAK+B,IAAI,GAAIjB,EAAK5B,UAAY,GAAK,IACvDoB,SACF,YAGDC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,WAAUC,SAAEQ,EAAK5B,YACjCqB,EAAAA,EAAAA,KAAA,UACEF,UAAU,yBACVyB,QAASA,IACPnE,EAAUmD,EAAK7C,IAAK6C,EAAK5B,UAAY,GAAK,GAC3CoB,SACF,UAKHF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,CAAC,UACvBQ,EAAK1B,OAAS,IAAM0B,EAAK5B,UAAY,OAE1CqB,EAAAA,EAAAA,KAAA,UACEF,UAAU,cACVyB,QAASA,IAAMhE,EAAOgD,EAAK7C,IAAIqC,SAChC,mBAnDGQ,EAAK7C,SA6DnBmC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,UAASC,SAAA,EACtBC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,mBAEJF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,EAC1BF,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAM,UAAQjC,EAASgB,WAAW,QAClCe,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAM,SAAEjC,EAASiB,gBAEnBc,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iCAAgCC,SAAA,EAC7CC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,kBACNF,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAM,SAAET,SAEVO,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCC,SAAA,EAChDC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,cACNF,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAM,UAAGR,SAEXM,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iCAAgCC,SAAA,EAC7CC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,kBACNF,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAM,SAAEP,SAEVK,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC5BC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,WACNF,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAM,SAAEJ,SAGVE,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAYqB,MAAO,CAAEM,UAAW,UAAW1B,SAAA,EACxDC,EAAAA,EAAAA,KAACe,EAAAA,EAAK,CAACC,KAAM,MACbhB,EAAAA,EAAAA,KAAA,QAAAD,SAAM,+CAGRF,EAAAA,EAAAA,MAAA,OAAKsB,MAAO,CAAEM,UAAW,QAAS1B,SAAA,EAChCC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,aAAYC,SAAC,oBAC9BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUC,SAAA,EACvBF,EAAAA,EAAAA,MAAA,SAAOC,UAAU,UAASC,SAAA,EACxBC,EAAAA,EAAAA,KAAA,SACE0B,KAAK,QACLf,KAAK,UACLV,MAAM,MACN0B,QAA2B,QAAlBvC,EACTc,SAAWC,GAAMd,EAAiBc,EAAEC,OAAOH,SAC3C,uBAGJJ,EAAAA,EAAAA,MAAA,SAAOC,UAAU,UAASC,SAAA,EACxBC,EAAAA,EAAAA,KAAA,SACE0B,KAAK,QACLf,KAAK,UACLV,MAAM,SACN0B,QAA2B,WAAlBvC,EACTc,SAAWC,GAAMd,EAAiBc,EAAEC,OAAOH,SAC3C,uBAMRD,EAAAA,EAAAA,KAAA,UACEF,UAAU,cACV8B,UAAW3C,EAAgB4C,OAC3BN,QAASA,KACP,IAAKtC,EAAgB4C,OAAQ,OAC7B,MAAMC,EAAkB,OAAVrE,QAAU,IAAVA,OAAU,EAAVA,EAAa,CACzBsE,QAAS9C,EAAgB4C,OACzBzC,kBAEE0C,EACFE,MAAM,UAADC,OACOH,EAAMpE,GAAE,2BAAAuE,OAA0BH,EAAMI,oBAGpDF,MAAM,kBAERjC,SAEDd,EAAgB4C,OACb,2BACA,0CArKVhC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2DAA0DC,SAAA,EACvEC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,gBAAeC,SAAC,kBAC/BC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,6BAA4BC,SAAC,wBAC3CC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,gBAAeC,SAAC,6CAwKrC,C","sources":["pages/Cart.js"],"sourcesContent":["import React, { useMemo, useState } from \"react\";\r\nimport { Clock } from \"lucide-react\";\r\nimport { useCart } from \"../context/CartContext\";\r\nimport \"./cart.css\";\r\n\r\nexport default function CartPage() {\r\n  // Grab everything from context once\r\n  const ctx = useCart?.() ?? {};\r\n\r\n  // Destructure the pieces we actually use\r\n  const {\r\n    items,\r\n    cartItems,\r\n    totals,\r\n    getTotalItems,\r\n    getTotalPrice,\r\n    updateQty: ctxUpdateQty,\r\n    updateQuantity,\r\n    remove: ctxRemove,\r\n    placeOrder,\r\n  } = ctx;\r\n\r\n  // --- Action helpers ---\r\n  const updateQty =\r\n    ctxUpdateQty ??\r\n    updateQuantity ??\r\n    ((id, qty) => console.warn(\"updateQty not implemented\", id, qty));\r\n\r\n  const remove =\r\n    ctxRemove ??\r\n    ((id) =>\r\n      updateQty\r\n        ? updateQty(id, 0)\r\n        : console.warn(\"remove not implemented\", id));\r\n\r\n  // --- Memoised computed values ---\r\n  const computed = useMemo(() => {\r\n    const list = items ?? cartItems ?? [];\r\n    const t = totals ?? {};\r\n\r\n    const fallbackItems = list.reduce((n, i) => n + (i.quantity || 0), 0);\r\n    const fallbackPrice = list.reduce(\r\n      (n, i) => n + (i.price || 0) * (i.quantity || 0),\r\n      0\r\n    );\r\n\r\n    return {\r\n      items: list,\r\n      totalItems: getTotalItems?.() ?? t.totalItems ?? fallbackItems,\r\n      subtotal: getTotalPrice?.() ?? t.totalPrice ?? fallbackPrice,\r\n    };\r\n  }, [items, cartItems, totals, getTotalItems, getTotalPrice]);\r\n\r\n  // --- Local state ---\r\n  const [deliveryAddress, setDeliveryAddress] = useState(\"\");\r\n  const [paymentMethod, setPaymentMethod] = useState(\"cod\");\r\n\r\n  // --- Derived totals ---\r\n  const deliveryFee = computed.totalItems ? 25 : 0;\r\n  const discount = computed.totalItems ? 10 : 0;\r\n  const taxes = Math.round((computed.subtotal || 0) * 0.05);\r\n  const grandTotal = (computed.subtotal || 0) + deliveryFee - discount + taxes;\r\n\r\n  // --- Empty cart UI ---\r\n  if (!computed.items.length) {\r\n    return (\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 text-center\">\r\n        <div className=\"text-7xl mb-4\">üõí</div>\r\n        <h3 className=\"text-xl font-semibold mb-2\">Your cart is empty</h3>\r\n        <p className=\"text-gray-600\">Add some delicious Mumbai street food!</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // --- Render cart ---\r\n  return (\r\n    <div className=\"cart-page\">\r\n      <h1 className=\"cart-title\">\r\n        Cart <small>({computed.totalItems} items)</small>\r\n      </h1>\r\n\r\n      <div className=\"cart-grid\">\r\n        {/* Left: Address + Items */}\r\n        <div className=\"space-y-4\">\r\n          <div className=\"cart-address\">\r\n            <label className=\"cart-label\">Delivery Address</label>\r\n            <input\r\n              className=\"cart-input\"\r\n              value={deliveryAddress}\r\n              onChange={(e) => setDeliveryAddress(e.target.value)}\r\n              placeholder=\"Enter your delivery address...\"\r\n            />\r\n          </div>\r\n\r\n          {computed.items.map((item) => (\r\n            <div key={item.id} className=\"cart-item\">\r\n              <div className=\"cart-item__left\">\r\n                <img\r\n                  src={item.image}\r\n                  alt={item.name}\r\n                  className=\"cart-thumb\"\r\n                  onError={(e) => {\r\n                    e.currentTarget.src =\r\n                      \"https://via.placeholder.com/300x200/f97316/ffffff?text=\" +\r\n                      encodeURIComponent(item.name || \"Food\");\r\n                  }}\r\n                />\r\n                <div>\r\n                  <div className=\"cart-item__name\">{item.name}</div>\r\n                  <div className=\"cart-item__price\">‚Çπ{item.price} each</div>\r\n                  <div className=\"cart-meta\">\r\n                    <Clock size={14} />\r\n                    <span>{item.prepTime}</span>\r\n                    {item.spiceLevel && <span>üå∂Ô∏è {item.spiceLevel}</span>}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div style={{ display: \"flex\", alignItems: \"center\", gap: \"1rem\" }}>\r\n                <div className=\"qty\">\r\n                  <button\r\n                    className=\"qty__btn\"\r\n                    onClick={() =>\r\n                      updateQty(item.id, Math.max(0, (item.quantity || 0) - 1))\r\n                    }\r\n                  >\r\n                    ‚àí\r\n                  </button>\r\n                  <span className=\"qty__val\">{item.quantity}</span>\r\n                  <button\r\n                    className=\"qty__btn qty__btn--inc\"\r\n                    onClick={() =>\r\n                      updateQty(item.id, (item.quantity || 0) + 1)\r\n                    }\r\n                  >\r\n                    +\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"cart-line\">\r\n                  <div className=\"line-total\">\r\n                    ‚Çπ{(item.price || 0) * (item.quantity || 0)}\r\n                  </div>\r\n                  <button\r\n                    className=\"cart-remove\"\r\n                    onClick={() => remove(item.id)}\r\n                  >\r\n                    Remove\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Right: Summary */}\r\n        <div className=\"summary\">\r\n          <h3>Order Summary</h3>\r\n\r\n          <div className=\"summary-row\">\r\n            <span>Items ({computed.totalItems})</span>\r\n            <span>‚Çπ{computed.subtotal}</span>\r\n          </div>\r\n          <div className=\"summary-row summary-row--muted\">\r\n            <span>Delivery Fee</span>\r\n            <span>‚Çπ{deliveryFee}</span>\r\n          </div>\r\n          <div className=\"summary-row summary-row--discount\">\r\n            <span>Discount</span>\r\n            <span>-‚Çπ{discount}</span>\r\n          </div>\r\n          <div className=\"summary-row summary-row--muted\">\r\n            <span>Taxes & Fees</span>\r\n            <span>‚Çπ{taxes}</span>\r\n          </div>\r\n          <div className=\"summary-total\">\r\n            <span>Total</span>\r\n            <span>‚Çπ{grandTotal}</span>\r\n          </div>\r\n\r\n          <div className=\"cart-meta\" style={{ marginTop: \".75rem\" }}>\r\n            <Clock size={16} />\r\n            <span>Estimated delivery: 25‚Äì30 minutes</span>\r\n          </div>\r\n\r\n          <div style={{ marginTop: \"1rem\" }}>\r\n            <label className=\"cart-label\">Payment Method</label>\r\n            <div className=\"pay-grid\">\r\n              <label className=\"pay-opt\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"payment\"\r\n                  value=\"cod\"\r\n                  checked={paymentMethod === \"cod\"}\r\n                  onChange={(e) => setPaymentMethod(e.target.value)}\r\n                />\r\n                Cash on Delivery\r\n              </label>\r\n              <label className=\"pay-opt\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"payment\"\r\n                  value=\"online\"\r\n                  checked={paymentMethod === \"online\"}\r\n                  onChange={(e) => setPaymentMethod(e.target.value)}\r\n                />\r\n                Pay Online\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            className=\"place-order\"\r\n            disabled={!deliveryAddress.trim()}\r\n            onClick={() => {\r\n              if (!deliveryAddress.trim()) return;\r\n              const order = placeOrder?.({\r\n                address: deliveryAddress.trim(),\r\n                paymentMethod,\r\n              });\r\n              if (order) {\r\n                alert(\r\n                  `Order #${order.id} placed! Est. delivery ${order.estimatedDelivery}`\r\n                );\r\n              } else {\r\n                alert(\"Order placed!\");\r\n              }\r\n            }}\r\n          >\r\n            {deliveryAddress.trim()\r\n              ? \"üöö Place Order\"\r\n              : \"Please add delivery address\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["CartPage","_useCart","_ref","ctx","useCart","items","cartItems","totals","getTotalItems","getTotalPrice","updateQty","ctxUpdateQty","updateQuantity","remove","ctxRemove","placeOrder","id","qty","console","warn","computed","useMemo","_ref2","_ref3","_getTotalItems","_ref4","_getTotalPrice","list","t","fallbackItems","reduce","n","i","quantity","fallbackPrice","price","totalItems","subtotal","totalPrice","deliveryAddress","setDeliveryAddress","useState","paymentMethod","setPaymentMethod","deliveryFee","discount","taxes","Math","round","grandTotal","length","_jsxs","className","children","_jsx","value","onChange","e","target","placeholder","map","item","src","image","alt","name","onError","currentTarget","encodeURIComponent","Clock","size","prepTime","spiceLevel","style","display","alignItems","gap","onClick","max","marginTop","type","checked","disabled","trim","order","address","alert","concat","estimatedDelivery"],"sourceRoot":""}