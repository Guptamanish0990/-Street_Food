"use strict";(self.webpackChunkwada_pav_app=self.webpackChunkwada_pav_app||[]).push([[30],{30:(e,a,s)=>{s.r(a),s.d(a,{default:()=>m});var l=s(43),o=s(981),t=s(729),r=s(379),n=s(579);function i(){const{login:e}=(0,t.A)(),a=(0,o.Zp)(),[s]=(0,o.ok)(),i=s.get("next")||"/",[d,m]=(0,l.useState)({email:"",password:""}),[c,u]=(0,l.useState)(!1),[p,h]=(0,l.useState)("");return(0,n.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),h(""),d.email&&d.password)try{u(!0),await Promise.resolve(e({email:d.email.trim(),password:d.password})),m({email:"",password:""}),a(i,{replace:!0})}catch(l){h((null===l||void 0===l?void 0:l.message)||"Login failed. Please try again.")}finally{u(!1)}else h("Please fill all required fields.")},className:"space-y-4",children:[p&&(0,n.jsx)("div",{className:"p-3 rounded-lg bg-red-50 text-red-700 text-sm",children:p}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Email Address"}),(0,n.jsx)("input",{type:"email",value:d.email,onChange:e=>m((0,r.A)((0,r.A)({},d),{},{email:e.target.value})),className:"auth-input w-full px-4 py-3 rounded-lg focus:outline-none",placeholder:"your@email.com",autoComplete:"email"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Password"}),(0,n.jsx)("input",{type:"password",value:d.password,onChange:e=>m((0,r.A)((0,r.A)({},d),{},{password:e.target.value})),className:"auth-input w-full px-4 py-3 rounded-lg focus:outline-none",placeholder:"Your password",autoComplete:"current-password"})]}),(0,n.jsx)("button",{type:"submit",disabled:c,className:"auth-btn w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-3 rounded-lg font-medium transition ".concat(c?"opacity-70 cursor-not-allowed":"hover:from-orange-600 hover:to-red-600"),children:c?"Logging in\u2026":"Login"})]})}function d(){const{register:e}=(0,t.A)(),[a,s]=(0,l.useState)({name:"",email:"",phone:"",password:"",confirm:""}),[o,i]=(0,l.useState)(!1),[d,m]=(0,l.useState)("");return(0,n.jsxs)("form",{onSubmit:s=>{if(s.preventDefault(),m(""),a.name&&a.email&&a.password)if(a.password.length<6)m("Password should be at least 6 characters.");else if(a.password===a.confirm){i(!0);try{e({name:a.name.trim(),email:a.email.trim(),password:a.password,phone:a.phone.trim()})}finally{i(!1)}}else m("Passwords do not match.");else m("Please fill all required fields.")},className:"register-form",children:[d&&(0,n.jsx)("div",{className:"error-box",children:d}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Full Name"}),(0,n.jsx)("input",{value:a.name,onChange:e=>s((0,r.A)((0,r.A)({},a),{},{name:e.target.value})),className:"auth-input w-full px-4 py-3 rounded-lg",placeholder:"Your full name",autoComplete:"name"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Email Address"}),(0,n.jsx)("input",{type:"email",value:a.email,onChange:e=>s((0,r.A)((0,r.A)({},a),{},{email:e.target.value})),className:"auth-input w-full px-4 py-3 rounded-lg",placeholder:"your@email.com",autoComplete:"email"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Phone Number"}),(0,n.jsx)("input",{type:"tel",value:a.phone,onChange:e=>s((0,r.A)((0,r.A)({},a),{},{phone:e.target.value})),className:"auth-input w-full px-4 py-3 rounded-lg",placeholder:"+91 99********",autoComplete:"tel"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Password"}),(0,n.jsx)("input",{type:"password",value:a.password,onChange:e=>s((0,r.A)((0,r.A)({},a),{},{password:e.target.value})),className:"auth-input w-full px-4 py-3 rounded-lg",placeholder:"New password",autoComplete:"new-password"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Confirm Password"}),(0,n.jsx)("input",{type:"password",value:a.confirm,onChange:e=>s((0,r.A)((0,r.A)({},a),{},{confirm:e.target.value})),className:"auth-input w-full px-4 py-3 rounded-lg",placeholder:"Confirm password",autoComplete:"new-password"})]}),(0,n.jsx)("button",{type:"submit",disabled:o,className:"auth-btn w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-3 rounded-lg font-medium transition ".concat(o?"opacity-70 cursor-not-allowed":"hover:from-orange-600 hover:to-red-600"),children:o?"Creating...":"Create Account"})]})}s(612);function m(){const{user:e}=(0,t.A)(),a=(0,o.Zp)(),{search:s}=(0,o.zy)(),[r]=(0,o.ok)(),m="register"===new URLSearchParams(s).get("auth"),c=r.get("next")||"/";return(0,l.useEffect)(()=>{e&&a(c,{replace:!0})},[e,c,a]),(0,n.jsxs)("div",{className:"login-wrapper",children:[(0,n.jsxs)("div",{className:"login-card",children:[(0,n.jsx)("h1",{className:"login-title",children:m?"Create Account \u2728":"Welcome Back \ud83d\udc4b"}),m?(0,n.jsx)(d,{}):(0,n.jsx)(i,{})]}),(0,n.jsx)("div",{className:"floating-food",children:"\ud83c\udf54"}),(0,n.jsx)("div",{className:"floating-food",children:"\ud83e\udd57"}),(0,n.jsx)("div",{className:"floating-food",children:"\ud83c\udf55"}),(0,n.jsx)("div",{className:"floating-food",children:"\ud83c\udf5b"}),(0,n.jsx)("div",{className:"floating-food",children:"\ud83e\udd6a"}),(0,n.jsx)("div",{className:"floating-food",children:"\ud83e\uddc1"}),(0,n.jsx)("div",{className:"floating-food",children:"\ud83e\udd5f"}),(0,n.jsx)("div",{className:"floating-food",children:"\ud83c\udf2f"})]})}}}]);
//# sourceMappingURL=30.df643eee.chunk.js.map