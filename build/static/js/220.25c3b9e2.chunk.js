"use strict";(self.webpackChunkwada_pav_app=self.webpackChunkwada_pav_app||[]).push([[220],{220:(e,s,a)=>{a.r(s),a.d(s,{default:()=>n});var l=a(43),t=a(88),i=a(273),r=a(579);function n(){var e,s;const a=null!==(e=null===i._$||void 0===i._$?void 0:(0,i._$)())&&void 0!==e?e:{},{items:n,cartItems:d,totals:c,getTotalItems:m,getTotalPrice:o,updateQty:u,updateQuantity:x,remove:h,placeOrder:p}=a,v=null!==(s=null!==u&&void 0!==u?u:x)&&void 0!==s?s:(e,s)=>console.warn("updateQty not implemented",e,s),j=null!==h&&void 0!==h?h:e=>v?v(e,0):console.warn("remove not implemented",e),y=(0,l.useMemo)(()=>{var e,s,a,l,t;const i=null!==(e=null!==n&&void 0!==n?n:d)&&void 0!==e?e:[],r=null!==c&&void 0!==c?c:{},u=i.reduce((e,s)=>e+(s.quantity||0),0),x=i.reduce((e,s)=>e+(s.price||0)*(s.quantity||0),0);return{items:i,totalItems:null!==(s=null!==(a=null===m||void 0===m?void 0:m())&&void 0!==a?a:r.totalItems)&&void 0!==s?s:u,subtotal:null!==(l=null!==(t=null===o||void 0===o?void 0:o())&&void 0!==t?t:r.totalPrice)&&void 0!==l?l:x}},[n,d,c,m,o]),[N,b]=(0,l.useState)(""),[g,_]=(0,l.useState)("cod"),f=y.totalItems?25:0,w=y.totalItems?10:0,C=Math.round(.05*(y.subtotal||0)),q=(y.subtotal||0)+f-w+C;return y.items.length?(0,r.jsxs)("div",{className:"cart-page",children:[(0,r.jsxs)("h1",{className:"cart-title",children:["Cart ",(0,r.jsxs)("small",{children:["(",y.totalItems," items)"]})]}),(0,r.jsxs)("div",{className:"cart-grid",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"cart-address",children:[(0,r.jsx)("label",{className:"cart-label",children:"Delivery Address"}),(0,r.jsx)("input",{className:"cart-input",value:N,onChange:e=>b(e.target.value),placeholder:"Enter your delivery address..."})]}),y.items.map(e=>(0,r.jsxs)("div",{className:"cart-item",children:[(0,r.jsxs)("div",{className:"cart-item__left",children:[(0,r.jsx)("img",{src:e.image,alt:e.name,className:"cart-thumb",onError:s=>{s.currentTarget.src="https://via.placeholder.com/300x200/f97316/ffffff?text="+encodeURIComponent(e.name||"Food")}}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"cart-item__name",children:e.name}),(0,r.jsxs)("div",{className:"cart-item__price",children:["\u20b9",e.price," each"]}),(0,r.jsxs)("div",{className:"cart-meta",children:[(0,r.jsx)(t.A,{size:14}),(0,r.jsx)("span",{children:e.prepTime}),e.spiceLevel&&(0,r.jsxs)("span",{children:["\ud83c\udf36\ufe0f ",e.spiceLevel]})]})]})]}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,r.jsxs)("div",{className:"qty",children:[(0,r.jsx)("button",{className:"qty__btn",onClick:()=>v(e.id,Math.max(0,(e.quantity||0)-1)),children:"\u2212"}),(0,r.jsx)("span",{className:"qty__val",children:e.quantity}),(0,r.jsx)("button",{className:"qty__btn qty__btn--inc",onClick:()=>v(e.id,(e.quantity||0)+1),children:"+"})]}),(0,r.jsxs)("div",{className:"cart-line",children:[(0,r.jsxs)("div",{className:"line-total",children:["\u20b9",(e.price||0)*(e.quantity||0)]}),(0,r.jsx)("button",{className:"cart-remove",onClick:()=>j(e.id),children:"Remove"})]})]})]},e.id))]}),(0,r.jsxs)("div",{className:"summary",children:[(0,r.jsx)("h3",{children:"Order Summary"}),(0,r.jsxs)("div",{className:"summary-row",children:[(0,r.jsxs)("span",{children:["Items (",y.totalItems,")"]}),(0,r.jsxs)("span",{children:["\u20b9",y.subtotal]})]}),(0,r.jsxs)("div",{className:"summary-row summary-row--muted",children:[(0,r.jsx)("span",{children:"Delivery Fee"}),(0,r.jsxs)("span",{children:["\u20b9",f]})]}),(0,r.jsxs)("div",{className:"summary-row summary-row--discount",children:[(0,r.jsx)("span",{children:"Discount"}),(0,r.jsxs)("span",{children:["-\u20b9",w]})]}),(0,r.jsxs)("div",{className:"summary-row summary-row--muted",children:[(0,r.jsx)("span",{children:"Taxes & Fees"}),(0,r.jsxs)("span",{children:["\u20b9",C]})]}),(0,r.jsxs)("div",{className:"summary-total",children:[(0,r.jsx)("span",{children:"Total"}),(0,r.jsxs)("span",{children:["\u20b9",q]})]}),(0,r.jsxs)("div",{className:"cart-meta",style:{marginTop:".75rem"},children:[(0,r.jsx)(t.A,{size:16}),(0,r.jsx)("span",{children:"Estimated delivery: 25\u201330 minutes"})]}),(0,r.jsxs)("div",{style:{marginTop:"1rem"},children:[(0,r.jsx)("label",{className:"cart-label",children:"Payment Method"}),(0,r.jsxs)("div",{className:"pay-grid",children:[(0,r.jsxs)("label",{className:"pay-opt",children:[(0,r.jsx)("input",{type:"radio",name:"payment",value:"cod",checked:"cod"===g,onChange:e=>_(e.target.value)}),"Cash on Delivery"]}),(0,r.jsxs)("label",{className:"pay-opt",children:[(0,r.jsx)("input",{type:"radio",name:"payment",value:"online",checked:"online"===g,onChange:e=>_(e.target.value)}),"Pay Online"]})]})]}),(0,r.jsx)("button",{className:"place-order",disabled:!N.trim(),onClick:()=>{if(!N.trim())return;const e=null===p||void 0===p?void 0:p({address:N.trim(),paymentMethod:g});e?alert("Order #".concat(e.id," placed! Est. delivery ").concat(e.estimatedDelivery)):alert("Order placed!")},children:N.trim()?"\ud83d\ude9a Place Order":"Please add delivery address"})]})]})]}):(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 text-center",children:[(0,r.jsx)("div",{className:"text-7xl mb-4",children:"\ud83d\uded2"}),(0,r.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Your cart is empty"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Add some delicious Mumbai street food!"})]})}}}]);
//# sourceMappingURL=220.25c3b9e2.chunk.js.map